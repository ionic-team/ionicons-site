import{c as t,a as n,u as r}from"./p-b18ab5ec.js";!function(t){if(!t.fetch){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),e="FormData"in t,o="ArrayBuffer"in t;if(o)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(t){return t&&DataView.prototype.isPrototypeOf(t)},s=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};v.prototype.append=function(t,n){t=h(t),n=l(n);var r=this.map[t];this.map[t]=r?r+","+n:n},v.prototype.delete=function(t){delete this.map[h(t)]},v.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},v.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},v.prototype.set=function(t,n){this.map[h(t)]=l(n)},v.prototype.forEach=function(t,n){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(n,this.map[r],r,this)},v.prototype.keys=function(){var t=[];return this.forEach((function(n,r){t.push(r)})),d(t)},v.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),d(t)},v.prototype.entries=function(){var t=[];return this.forEach((function(n,r){t.push([r,n])})),d(t)},r&&(v.prototype[Symbol.iterator]=v.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},b.call(g.prototype),b.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];A.redirect=function(t,n){if(-1===a.indexOf(n))throw new RangeError("Invalid status code");return new A(null,{status:n,headers:{location:t}})},t.Headers=v,t.Request=g,t.Response=A,t.fetch=function(t,n){return new Promise((function(r,e){var o=new g(t,n),u=new XMLHttpRequest;u.onload=function(){var t,n,i={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",n=new v,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),i=r.shift().trim();if(i){var e=r.join(":").trim();n.append(i,e)}})),n)};i.url="responseURL"in u?u.responseURL:i.headers.get("X-Request-URL"),r(new A("response"in u?u.response:u.responseText,i))},u.onerror=function(){e(new TypeError("Network request failed"))},u.ontimeout=function(){e(new TypeError("Network request failed"))},u.open(o.method,o.url,!0),"include"===o.credentials?u.withCredentials=!0:"omit"===o.credentials&&(u.withCredentials=!1),"responseType"in u&&i&&(u.responseType="blob"),o.headers.forEach((function(t,n){u.setRequestHeader(n,t)})),u.send(void 0===o._bodyInit?null:o._bodyInit)}))},t.fetch.polyfill=!0}function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return r&&(n[Symbol.iterator]=function(){return n}),n}function v(t){this.map={},t instanceof v?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function y(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function w(t){return new Promise((function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}}))}function p(t){var n=new FileReader,r=w(n);return n.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(i&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(n&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(o&&i&&f(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(t)&&!s(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,n,r,i=y(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,r=w(n=new FileReader),n.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),r=new Array(n.length),i=0;i<n.length;i++)r[i]=String.fromCharCode(n[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,n){var r,i,e=(n=n||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new v(t.headers)),this.method=t.method,this.mode=t.mode,e||null==t._bodyInit||(e=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=n.credentials||this.credentials||"omit",!n.headers&&this.headers||(this.headers=new v(n.headers)),this.method=(i=(r=n.method||this.method||"GET").toUpperCase(),c.indexOf(i)>-1?i:r),this.mode=n.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function T(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),e=r.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(e))}})),n}function A(t,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new v(n.headers),this.url=n.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0);const i=Object.freeze({__proto__:null}),e=r(t((function(t){var r;"undefined"!=typeof self&&self,t.exports=(r=i,function(t){var n={};function r(i){if(n[i])return n[i].exports;var e=n[i]={i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=t,r.c=n,r.d=function(t,n,i){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(i,e,function(n){return t[n]}.bind(null,e));return i},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=20)}([function(t,n){n.a=function(t){var n=this.constructor;return this.then((function(r){return n.resolve(t()).then((function(){return r}))}),(function(r){return n.resolve(t()).then((function(){return n.reject(r)}))}))}},function(t,n){n.__esModule=!0,n.createPreviewResolver=function(t,n,r){return{token:t,documentId:n,resolve:function(i,e,o){return n&&r?r(n,{ref:t}).then((function(t){if(t){var n=i(t);return o&&o(null,n),n}return o&&o(null,e),e})):Promise.resolve(e)}}}},function(t,n,r){var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var e in n=arguments[r])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t};n.__esModule=!0;var e=r(5),o=r(4),u=r(6),f=r(12),s=r(1);n.PREVIEW_COOKIE="io.prismic.preview",n.EXPERIMENT_COOKIE="io.prismic.experiment";var c=function(){function t(t,n,r){this.data=t,this.masterRef=t.refs.filter((function(t){return t.isMasterRef}))[0],this.experiments=new e.Experiments(t.experiments),this.bookmarks=t.bookmarks,this.httpClient=n,this.options=r,this.refs=t.refs,this.tags=t.tags,this.types=t.types,this.languages=t.languages}return t.prototype.form=function(t){var n=this.data.forms[t];return n?new o.SearchForm(n,this.httpClient):null},t.prototype.everything=function(){var t=this.form("everything");if(!t)throw new Error("Missing everything form");return t},t.prototype.master=function(){return this.masterRef.ref},t.prototype.ref=function(t){var n=this.data.refs.filter((function(n){return n.label===t}))[0];return n?n.ref:null},t.prototype.currentExperiment=function(){return this.experiments.current()},t.prototype.query=function(t,r,i){void 0===i&&(i=function(){});var e="function"==typeof r?{options:{},callback:r}:{options:r||{},callback:i},o=e.options,u=e.callback,s=this.everything();for(var c in o)s=s.set(c,o[c]);if(!o.ref){var a="";this.options.req?a=this.options.req.headers.cookie||"":"undefined"!=typeof window&&window.document&&(a=window.document.cookie||"");var h=f.default.parse(a),l=h[n.PREVIEW_COOKIE],d=this.experiments.refFromCookie(h[n.EXPERIMENT_COOKIE]);s=s.ref(l||d||this.masterRef.ref)}return t&&s.query(t),s.submit(u)},t.prototype.queryFirst=function(t,n,r){var e="function"==typeof n?{options:{},callback:n}:{options:i({},n)||{},callback:r||function(){}},o=e.options,u=e.callback;return o.page=1,o.pageSize=1,this.query(t,o).then((function(t){var n=t&&t.results&&t.results[0];return u(null,n),n})).catch((function(t){throw u(t),t}))},t.prototype.getByID=function(t,n,r){var e=n?i({},n):{};return e.lang||(e.lang="*"),this.queryFirst(u.default.at("document.id",t),e,r)},t.prototype.getByIDs=function(t,n,r){var e=n?i({},n):{};return e.lang||(e.lang="*"),this.query(u.default.in("document.id",t),e,r)},t.prototype.getByUID=function(t,n,r,e){var o=r?i({},r):{};if("*"===o.lang)throw new Error("FORDIDDEN. You can't use getByUID with *, use the predicates instead.");return o.page||(o.page=1),this.queryFirst(u.default.at("my."+t+".uid",n),o,e)},t.prototype.getSingle=function(t,n,r){var e=n?i({},n):{};return this.queryFirst(u.default.at("document.type",t),e,r)},t.prototype.getBookmark=function(t,n,r){var i=this.data.bookmarks[t];return i?this.getByID(i,n,r):Promise.reject("Error retrieving bookmarked id")},t.prototype.getPreviewResolver=function(t,n){return s.createPreviewResolver(t,n,this.getByID.bind(this))},t.prototype.previewSession=function(t,n,r,i){var e=this;return console.warn("previewSession function is deprecated in favor of getPreviewResolver function."),new Promise((function(o,u){e.httpClient.request(t,(function(f,s){if(f)i&&i(f),u(f);else if(s){if(s.mainDocument)return e.getByID(s.mainDocument,{ref:t}).then((function(t){if(t){var e=n(t);i&&i(null,e),o(e)}else i&&i(null,r),o(r)})).catch(u);i&&i(null,r),o(r)}}))}))},t}();n.default=c},function(t,n,r){n.__esModule=!0;var i=r(2),e=r(11);function o(t){return t.indexOf("?")>-1?"&":"?"}var u=function(){function t(t,n){if(this.options=n||{},this.url=t,this.options.accessToken){var r="access_token="+this.options.accessToken;this.url+=o(t)+r}this.options.routes&&(this.url+=o(t)+"routes="+encodeURIComponent(JSON.stringify(this.options.routes))),this.apiDataTTL=this.options.apiDataTTL||5,this.httpClient=new e.default(this.options.requestHandler,this.options.apiCache,this.options.proxyAgent,this.options.timeoutInMs)}return t.prototype.get=function(t){var n=this;return this.httpClient.cachedRequest(this.url,{ttl:this.apiDataTTL}).then((function(r){var e=new i.default(r,n.httpClient,n.options);return t&&t(null,e),e})).catch((function(n){throw t&&t(n),n}))},t}();n.default=u},function(t,n){n.__esModule=!0;var r=function(){function t(t,n){this.id=t,this.api=n,this.fields={}}return t.prototype.set=function(t,n){return this.fields[t]=n,this},t.prototype.ref=function(t){return this.set("ref",t)},t.prototype.query=function(t){return this.set("q",t)},t.prototype.pageSize=function(t){return this.set("pageSize",t)},t.prototype.fetch=function(t){return console.warn("Warning: Using Fetch is deprecated. Use the property `graphQuery` instead."),this.set("fetch",t)},t.prototype.fetchLinks=function(t){return console.warn("Warning: Using FetchLinks is deprecated. Use the property `graphQuery` instead."),this.set("fetchLinks",t)},t.prototype.graphQuery=function(t){return this.set("graphQuery",t)},t.prototype.lang=function(t){return this.set("lang",t)},t.prototype.page=function(t){return this.set("page",t)},t.prototype.after=function(t){return this.set("after",t)},t.prototype.orderings=function(t){return this.set("orderings",t)},t.prototype.url=function(){var n=this;return this.api.get().then((function(r){return t.toSearchForm(n,r).url()}))},t.prototype.submit=function(n){var r=this;return this.api.get().then((function(i){return t.toSearchForm(r,i).submit(n)}))},t.toSearchForm=function(t,n){var r=n.form(t.id);if(r)return Object.keys(t.fields).reduce((function(n,r){var i=t.fields[r];return"q"===r?n.query(i):"pageSize"===r?n.pageSize(i):"fetch"===r?n.fetch(i):"fetchLinks"===r?n.fetchLinks(i):"graphQuery"===r?n.graphQuery(i):"lang"===r?n.lang(i):"page"===r?n.page(i):"after"===r?n.after(i):"orderings"===r?n.orderings(i):n.set(r,i)}),r);throw new Error("Unable to access to form "+t.id)},t}();n.LazySearchForm=r;var i=function(){function t(t,n){for(var r in this.httpClient=n,this.form=t,this.data={},t.fields)t.fields[r].default&&(this.data[r]=[t.fields[r].default])}return t.prototype.set=function(t,n){var r=this.form.fields[t];if(!r)throw new Error("Unknown field "+t);var i=""===n||void 0===n?null:n,e=this.data[t]||[];return e=r.multiple?i?e.concat([i]):e:i?[i]:e,this.data[t]=e,this},t.prototype.ref=function(t){return this.set("ref",t)},t.prototype.query=function(t){if("string"==typeof t)return this.query([t]);if(Array.isArray(t))return this.set("q","["+t.join("")+"]");throw new Error("Invalid query : "+t)},t.prototype.pageSize=function(t){return this.set("pageSize",t)},t.prototype.fetch=function(t){console.warn("Warning: Using Fetch is deprecated. Use the property `graphQuery` instead.");var n=Array.isArray(t)?t.join(","):t;return this.set("fetch",n)},t.prototype.fetchLinks=function(t){console.warn("Warning: Using FetchLinks is deprecated. Use the property `graphQuery` instead.");var n=Array.isArray(t)?t.join(","):t;return this.set("fetchLinks",n)},t.prototype.graphQuery=function(t){return this.set("graphQuery",t)},t.prototype.lang=function(t){return this.set("lang",t)},t.prototype.page=function(t){return this.set("page",t)},t.prototype.after=function(t){return this.set("after",t)},t.prototype.orderings=function(t){return t?this.set("orderings","["+t.join(",")+"]"):this},t.prototype.url=function(){var t=this.form.action;if(this.data){var n=t.indexOf("?")>-1?"&":"?";for(var r in this.data)if(this.data.hasOwnProperty(r)){var i=this.data[r];if(i)for(var e=0;e<i.length;e++)t+=n+r+"="+encodeURIComponent(i[e]),n="&"}}return t},t.prototype.submit=function(t){return this.httpClient.cachedRequest(this.url()).then((function(n){return t&&t(null,n),n})).catch((function(n){throw t&&t(n),n}))},t}();n.SearchForm=i},function(t,n){n.__esModule=!0;var r=function(){function t(t){this.data={},this.data=t}return t.prototype.id=function(){return this.data.id},t.prototype.ref=function(){return this.data.ref},t.prototype.label=function(){return this.data.label},t}();n.Variation=r;var i=function(){function t(t){this.data={},this.data=t,this.variations=(t.variations||[]).map((function(t){return new r(t)}))}return t.prototype.id=function(){return this.data.id},t.prototype.googleId=function(){return this.data.googleId},t.prototype.name=function(){return this.data.name},t}();n.Experiment=i;var e=function(){function t(t){t&&(this.drafts=(t.drafts||[]).map((function(t){return new i(t)})),this.running=(t.running||[]).map((function(t){return new i(t)})))}return t.prototype.current=function(){return this.running.length>0?this.running[0]:null},t.prototype.refFromCookie=function(t){if(!t||""===t.trim())return null;var n=t.trim().split(" ");if(n.length<2)return null;var r=n[0],i=parseInt(n[1],10),e=this.running.filter((function(t){return t.googleId()===r&&t.variations.length>i}))[0];return e?e.variations[i].ref():null},t}();n.Experiments=e},function(t,n){function r(t){if("string"==typeof t)return'"'+t+'"';if("number"==typeof t)return t.toString();if(t instanceof Date)return t.getTime().toString();if(Array.isArray(t))return"["+t.map((function(t){return r(t)})).join(",")+"]";if("boolean"==typeof t)return t.toString();throw new Error("Unable to encode "+t+" of type "+typeof t)}n.__esModule=!0;var i={near:function(t,n,r,i){return"[geopoint.near("+t+", "+n+", "+r+", "+i+")]"}},e={before:function(t,n){return"[date.before("+t+", "+r(n)+")]"},after:function(t,n){return"[date.after("+t+", "+r(n)+")]"},between:function(t,n,i){return"[date.between("+t+", "+r(n)+", "+r(i)+")]"},dayOfMonth:function(t,n){return"[date.day-of-month("+t+", "+n+")]"},dayOfMonthAfter:function(t,n){return"[date.day-of-month-after("+t+", "+n+")]"},dayOfMonthBefore:function(t,n){return"[date.day-of-month-before("+t+", "+n+")]"},dayOfWeek:function(t,n){return"[date.day-of-week("+t+", "+r(n)+")]"},dayOfWeekAfter:function(t,n){return"[date.day-of-week-after("+t+", "+r(n)+")]"},dayOfWeekBefore:function(t,n){return"[date.day-of-week-before("+t+", "+r(n)+")]"},month:function(t,n){return"[date.month("+t+", "+r(n)+")]"},monthBefore:function(t,n){return"[date.month-before("+t+", "+r(n)+")]"},monthAfter:function(t,n){return"[date.month-after("+t+", "+r(n)+")]"},year:function(t,n){return"[date.year("+t+", "+n+")]"},hour:function(t,n){return"[date.hour("+t+", "+n+")]"},hourBefore:function(t,n){return"[date.hour-before("+t+", "+n+")]"},hourAfter:function(t,n){return"[date.hour-after("+t+", "+n+")]"}},o={gt:function(t,n){return"[number.gt("+t+", "+n+")]"},lt:function(t,n){return"[number.lt("+t+", "+n+")]"},inRange:function(t,n,r){return"[number.inRange("+t+", "+n+", "+r+")]"}};n.default={at:function(t,n){return"[at("+t+", "+r(n)+")]"},not:function(t,n){return"[not("+t+", "+r(n)+")]"},missing:function(t){return"[missing("+t+")]"},has:function(t){return"[has("+t+")]"},any:function(t,n){return"[any("+t+", "+r(n)+")]"},in:function(t,n){return"[in("+t+", "+r(n)+")]"},fulltext:function(t,n){return"[fulltext("+t+", "+r(n)+")]"},similar:function(t,n){return'[similar("'+t+'", '+n+")]"},date:e,dateBefore:e.before,dateAfter:e.after,dateBetween:e.between,dayOfMonth:e.dayOfMonth,dayOfMonthAfter:e.dayOfMonthAfter,dayOfMonthBefore:e.dayOfMonthBefore,dayOfWeek:e.dayOfWeek,dayOfWeekAfter:e.dayOfWeekAfter,dayOfWeekBefore:e.dayOfWeekBefore,month:e.month,monthBefore:e.monthBefore,monthAfter:e.monthAfter,year:e.year,hour:e.hour,hourBefore:e.hourBefore,hourAfter:e.hourAfter,number:o,gt:o.gt,lt:o.lt,inRange:o.inRange,near:i.near,geopoint:i}},function(t,n,r){(function(t){var i=r(0),e=setTimeout;function o(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function f(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn((function(){var r=1===t._state?n.onFulfilled:n.onRejected;if(null!==r){var i;try{i=r(t._value)}catch(t){return void c(n.promise,t)}s(n.promise,i)}else(1===t._state?s:c)(n.promise,t._value)}))):t._deferreds.push(n)}function s(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if(n instanceof u)return t._state=3,t._value=n,void a(t);if("function"==typeof r)return void h(function(t,n){return function(){t.apply(n,arguments)}}(r,n),t)}t._state=1,t._value=n,a(t)}catch(n){c(t,n)}}function c(t,n){t._state=2,t._value=n,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&u._immediateFn((function(){t._handled||u._unhandledRejectionFn(t._value)}));for(var n=0,r=t._deferreds.length;n<r;n++)f(t,t._deferreds[n]);t._deferreds=null}function h(t,n){var r=!1;try{t((function(t){r||(r=!0,s(n,t))}),(function(t){r||(r=!0,c(n,t))}))}catch(t){if(r)return;r=!0,c(n,t)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,n){var r=new this.constructor(o);return f(this,new function(t,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=r}(t,n,r)),r},u.prototype.finally=i.a,u.all=function(t){return new u((function(n,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var e=i.length;function o(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,(function(n){o(t,n)}),r)}i[t]=u,0==--e&&n(i)}catch(t){r(t)}}for(var u=0;u<i.length;u++)o(u,i[u])}))},u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u((function(n){n(t)}))},u.reject=function(t){return new u((function(n,r){r(t)}))},u.race=function(t){return new u((function(n,r){for(var i=0,e=t.length;i<e;i++)t[i].then(n,r)}))},u._immediateFn="function"==typeof t&&function(n){t(n)}||function(t){e(t,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n.a=u}).call(this,r(18).setImmediate)},function(t,n){n.__esModule=!0;var r=function(){function t(t){this.options=t||{}}return t.prototype.request=function(t,n){!function(t,n,r){var i,e={headers:{Accept:"application/json"}};n&&n.proxyAgent&&(e.agent=n.proxyAgent);var o=fetch(t,e);(n.timeoutInMs?Promise.race([o,new Promise((function(r,e){i=setTimeout((function(){return e(new Error(t+" response timeout"))}),n.timeoutInMs)}))]):o).then((function(n){return clearTimeout(i),~~(n.status/100!=2)?n.text().then((function(){var r=new Error("Unexpected status code ["+n.status+"] on URL "+t);throw r.status=n.status,r})):n.json().then((function(t){var i=n.headers.get("cache-control"),e=i?/max-age=(\d+)/.exec(i):null,o=e?parseInt(e[1],10):void 0;r(null,t,n,o)}))})).catch((function(t){clearTimeout(i),r(t)}))}(t,this.options,n)},t}();n.DefaultRequestHandler=r},function(t,n){function r(t){this.size=0,this.limit=t,this._keymap={}}n.__esModule=!0,n.MakeLRUCache=function(t){return new r(t)},r.prototype.put=function(t,n){var r={key:t,value:n};if(this._keymap[t]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return this.shift();this.size++},r.prototype.shift=function(){var t=this.head;return t&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,t.newer=t.older=void 0,delete this._keymap[t.key]),console.log("purging ",t.key),t},r.prototype.get=function(t,n){var r=this._keymap[t];if(void 0!==r)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),n?r:r.value},r.prototype.find=function(t){return this._keymap[t]},r.prototype.set=function(t,n){var r,i=this.get(t,!0);return i?(r=i.value,i.value=n):(r=this.put(t,n))&&(r=r.value),r},r.prototype.remove=function(t){var n=this._keymap[t];if(n)return delete this._keymap[n.key],n.newer&&n.older?(n.older.newer=n.newer,n.newer.older=n.older):n.newer?(n.newer.older=void 0,this.head=n.newer):n.older?(n.older.newer=void 0,this.tail=n.older):this.head=this.tail=void 0,this.size--,n.value},r.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},r.prototype.keys="function"==typeof Object.keys?function(){return Object.keys(this._keymap)}:function(){var t=[];for(var n in this._keymap)t.push(n);return t},r.prototype.forEach=function(t,n,r){var i;if(!0===n?(r=!0,n=void 0):"object"!=typeof n&&(n=this),r)for(i=this.tail;i;)t.call(n,i.key,i.value,this),i=i.older;else for(i=this.head;i;)t.call(n,i.key,i.value,this),i=i.newer},r.prototype.toString=function(){for(var t="",n=this.head;n;)t+=String(n.key)+":"+n.value,(n=n.newer)&&(t+=" < ");return t}},function(t,n,r){n.__esModule=!0;var i=r(9),e=function(){function t(t){void 0===t&&(t=1e3),this.lru=i.MakeLRUCache(t)}return t.prototype.isExpired=function(t){var n=this.lru.get(t,!1);return!!n&&0!==n.expiredIn&&n.expiredIn<Date.now()},t.prototype.get=function(t,n){var r=this.lru.get(t,!1);r&&!this.isExpired(t)?n(null,r.data):n&&n(null)},t.prototype.set=function(t,n,r,i){this.lru.remove(t),this.lru.put(t,{data:n,expiredIn:r?Date.now()+1e3*r:0}),i&&i(null)},t.prototype.remove=function(t,n){this.lru.remove(t),n&&n(null)},t.prototype.clear=function(t){this.lru.removeAll(),t&&t(null)},t}();n.DefaultApiCache=e},function(t,n,r){n.__esModule=!0;var i=r(10),e=r(8),o=function(){function t(t,n,r,o){this.requestHandler=t||new e.DefaultRequestHandler({proxyAgent:r,timeoutInMs:o}),this.cache=n||new i.DefaultApiCache}return t.prototype.request=function(t,n){this.requestHandler.request(t,(function(t,r,i,e){t?n&&n(t,null,i,e):r&&n&&n(null,r,i,e)}))},t.prototype.cachedRequest=function(t,n){var r=this,i=n||{};return new Promise((function(n,e){!function(n){var e=i.cacheKey||t;r.cache.get(e,(function(o,u){o||u?n(o,u):r.request(t,(function(t,o,u,f){if(t)n(t,null);else{var s=f||i.ttl;s&&r.cache.set(e,o,s,n),n(null,o)}}))}))}((function(t,r){t&&e(t),r&&n(r)}))}))},t}();n.default=o},function(t,n){n.__esModule=!0;var r=decodeURIComponent;n.default={parse:function(t,n){if("string"!=typeof t)throw new TypeError("argument str must be a string");var i={},e=n||{},o=t.split(/; */),u=e.decode||r;return o.forEach((function(t){var n=t.indexOf("=");if(!(n<0)){var r=t.substr(0,n).trim(),e=t.substr(++n,t.length).trim();'"'==e[0]&&(e=e.slice(1,-1)),null==i[r]&&(i[r]=function(t,n){try{return n(t)}catch(n){return t}}(e,u))}})),i}}},function(t,n,r){n.__esModule=!0;var i=r(4),e=r(3),o=r(1),u=function(){function t(t,n){this.api=new e.default(t,n)}return t.prototype.getApi=function(){return this.api.get()},t.prototype.everything=function(){return this.form("everything")},t.prototype.form=function(t){return new i.LazySearchForm(t,this.api)},t.prototype.query=function(t,n,r){return this.getApi().then((function(i){return i.query(t,n,r)}))},t.prototype.queryFirst=function(t,n,r){return this.getApi().then((function(i){return i.queryFirst(t,n,r)}))},t.prototype.getByID=function(t,n,r){return this.getApi().then((function(i){return i.getByID(t,n,r)}))},t.prototype.getByIDs=function(t,n,r){return this.getApi().then((function(i){return i.getByIDs(t,n,r)}))},t.prototype.getByUID=function(t,n,r,i){return this.getApi().then((function(e){return e.getByUID(t,n,r,i)}))},t.prototype.getSingle=function(t,n,r){return this.getApi().then((function(i){return i.getSingle(t,n,r)}))},t.prototype.getBookmark=function(t,n,r){return this.getApi().then((function(i){return i.getBookmark(t,n,r)}))},t.prototype.previewSession=function(t,n,r,i){return this.getApi().then((function(e){return e.previewSession(t,n,r,i)}))},t.prototype.getPreviewResolver=function(t,n){var r=this;return o.createPreviewResolver(t,n,(function(t){return r.getApi().then((function(n){return n.getByID(t)}))}))},t.getApi=function(t,n){return new e.default(t,n).get()},t}();n.DefaultClient=u},function(t,n,r){var i,e=r(6),o=r(5),u=r(13),f=r(3),s=r(2);!function(t){function n(t,n){return u.DefaultClient.getApi(t,n)}t.experimentCookie=s.EXPERIMENT_COOKIE,t.previewCookie=s.PREVIEW_COOKIE,t.Predicates=e.default,t.Experiments=o.Experiments,t.Api=f.default,t.client=function(t,n){return new u.DefaultClient(t,n)},t.getApi=n,t.api=function(t,r){return n(t,r)}}(i||(i={})),t.exports=i},function(t){t.exports=r},function(t){var n,r,i=t.exports={};function e(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===e||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(r){try{return n.call(null,t,0)}catch(r){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:e}catch(t){n=e}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var f,s=[],c=!1,a=-1;function h(){c&&f&&(c=!1,f.length?s=f.concat(s):a=-1,s.length&&l())}function l(){if(!c){var t=u(h);c=!0;for(var n=s.length;n;){for(f=s,s=[];++a<n;)f&&f[a].run();a=-1,n=s.length}f=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];s.push(new d(t,n)),1!==s.length||c||u(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,r,i){(function(t){!function(n){if(!n.setImmediate){var r,i=1,e={},o=!1,u=n.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(n);f=f&&f.setTimeout?f:n,"[object process]"==={}.toString.call(n.process)?r=function(n){t.nextTick((function(){c(n)}))}:function(){if(n.postMessage&&!n.importScripts){var t=!0,r=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(r){r.source===n&&"string"==typeof r.data&&0===r.data.indexOf(t)&&c(+r.data.slice(t.length))};n.addEventListener?n.addEventListener("message",i,!1):n.attachEvent("onmessage",i),r=function(r){n.postMessage(t+r,"*")}}():n.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(n){t.port2.postMessage(n)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var t=u.documentElement;r=function(n){var r=u.createElement("script");r.onreadystatechange=function(){c(n),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():r=function(t){setTimeout(c,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),o=0;o<n.length;o++)n[o]=arguments[o+1];var u={callback:t,args:n};return e[i]=u,r(i),i++},f.clearImmediate=s}function s(t){delete e[t]}function c(t){if(o)setTimeout(c,0,t);else{var n=e[t];if(n){o=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(void 0,r)}}(n)}finally{s(t),o=!1}}}}}("undefined"==typeof self?void 0===n?this:n:self)}).call(this,i(16))},function(t,r,i){var e=void 0!==n&&n||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function u(t,n){this._id=t,this._clearFn=n}r.setTimeout=function(){return new u(o.call(setTimeout,e,arguments),clearTimeout)},r.setInterval=function(){return new u(o.call(setInterval,e,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(e,this._id)},r.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},i(17),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==n&&n.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==n&&n.clearImmediate||this&&this.clearImmediate},function(t,r,i){i.r(r);var e=i(7),o=i(0),u=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();u.Promise?u.Promise.prototype.finally||(u.Promise.prototype.finally=o.a):u.Promise=e.a},function(t,n,r){r(19),r(15),t.exports=r(14)}]))})));export{e as P}